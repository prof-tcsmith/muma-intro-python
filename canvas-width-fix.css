/* Custom CSS to optimize Quarto content for Canvas LMS iframe display */

/* Adjust the sidebar to be more compact in Canvas */
#quarto-sidebar-toc-left,
.sidebar.toc-left {
    width: 200px !important; /* Reduced from default 250px */
    font-size: 0.875rem !important; /* Smaller font for TOC */
    padding: 10px !important;
    background-color: #f8f9fa !important;
    border-right: 1px solid #dee2e6 !important;
}

/* Make TOC title smaller */
#toc-title {
    font-size: 1rem !important;
    margin-bottom: 0.5rem !important;
}

/* Reduce TOC item spacing */
#TOC ul {
    padding-left: 1rem !important;
}

#TOC li {
    margin-bottom: 0.25rem !important;
}

#TOC a {
    padding: 0.25rem 0.5rem !important;
    font-size: 0.875rem !important;
}

/* Adjust the main content area to work with narrower sidebar */
#quarto-content {
    max-width: none !important;
    width: 100% !important;
}

/* Override the grid to use more space for content */
#quarto-content.page-columns {
    display: grid !important;
    grid-template-columns: 200px 1fr !important; /* Fixed sidebar, flexible content */
    gap: 20px !important;
    max-width: none !important;
    width: 100% !important;
}

/* Make the main content area use available space */
main,
.content,
main.content {
    max-width: none !important;
    width: 100% !important;
    padding: 20px !important;
    margin: 0 !important;
}

/* Ensure content body uses full width */
.column-body,
.content-column-body,
[class*="column-body"] {
    max-width: none !important;
    width: 100% !important;
    margin: 0 !important;
}

/* Remove article layout constraints */
.page-layout-article {
    max-width: none !important;
    width: 100% !important;
}

/* Sections should use full width */
section {
    max-width: none !important;
    width: 100% !important;
}

/* Tables should be responsive */
table {
    max-width: 100% !important;
    width: auto !important;
}

/* Code blocks should use available width */
pre {
    max-width: 100% !important;
    overflow-x: auto !important;
}

.sourceCode {
    max-width: none !important;
}

/* Images should scale properly */
img {
    max-width: 100% !important;
    height: auto !important;
}

/* Override Bootstrap containers */
.container,
.container-fluid,
.container-lg,
.container-md,
.container-sm,
.container-xl,
.container-xxl {
    max-width: none !important;
    width: 100% !important;
    padding-left: 20px !important;
    padding-right: 20px !important;
}

/* For smaller screens or narrower iframes, hide the TOC */
@media (max-width: 768px) {
    #quarto-sidebar-toc-left,
    .sidebar.toc-left {
        display: none !important;
    }
    
    #quarto-content.page-columns {
        grid-template-columns: 1fr !important;
    }
}

/* Ensure headers don't get cut off */
h1, h2, h3, h4, h5, h6 {
    margin-top: 1rem !important;
}

/* Make sure the content doesn't have unnecessary constraints */
.page-rows-contents {
    max-width: none !important;
    width: 100% !important;
}

/* Remove any column margins that might create gaps */
[class*="column-"] {
    margin-left: 0 !important;
    margin-right: 0 !important;
}

/* Ensure the sticky TOC works properly */
.sidebar.toc-left {
    position: sticky !important;
    top: 1rem !important;
    height: calc(100vh - 2rem) !important;
    overflow-y: auto !important;
}

/* Improve TOC active state visibility */
#TOC .active > a {
    background-color: #0d6efd !important;
    color: white !important;
    border-radius: 0.25rem !important;
}