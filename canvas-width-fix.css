/* Custom CSS to optimize Quarto content for Canvas LMS iframe display */

/* Hide the TOC sidebar completely - Canvas iframe is too narrow for split view */
#quarto-sidebar-toc-left,
.sidebar.toc-left,
#TOC,
.toc-left,
nav[role="doc-toc"] {
    display: none !important;
}

/* Reset the page layout to single column */
#quarto-content.page-columns {
    display: block !important;
    grid-template-columns: none !important;
    max-width: 100% !important;
    width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
}

/* Constrain main content to readable width without horizontal scroll */
main,
.content,
main.content,
#quarto-document-content {
    max-width: 100% !important;
    width: calc(100% - 40px) !important; /* Account for padding */
    margin: 0 auto !important;
    padding: 20px !important;
    box-sizing: border-box !important;
}

/* Ensure all content respects the width constraint */
.column-body,
.content-column-body,
[class*="column-body"],
.page-layout-article {
    max-width: 100% !important;
    width: 100% !important;
    margin: 0 !important;
    box-sizing: border-box !important;
}

/* Prevent any element from causing horizontal scroll */
* {
    max-width: 100% !important;
    box-sizing: border-box !important;
}

/* Sections should not exceed container width */
section {
    max-width: 100% !important;
    width: 100% !important;
    overflow-x: hidden !important;
}

/* Tables should be scrollable if too wide */
.table-responsive,
table {
    display: block !important;
    max-width: 100% !important;
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
}

/* Code blocks should scroll if too wide */
pre {
    max-width: 100% !important;
    overflow-x: auto !important;
    white-space: pre !important;
}

.sourceCode {
    max-width: 100% !important;
    overflow-x: auto !important;
}

/* Images should scale down */
img {
    max-width: 100% !important;
    height: auto !important;
}

/* Fix Bootstrap containers */
.container,
.container-fluid,
.container-lg,
.container-md,
.container-sm,
.container-xl,
.container-xxl {
    max-width: 100% !important;
    width: 100% !important;
    padding-left: 20px !important;
    padding-right: 20px !important;
    box-sizing: border-box !important;
}

/* Remove any left margins from hidden TOC */
#quarto-content.toc-left,
.page-columns.toc-left {
    margin-left: 0 !important;
    padding-left: 0 !important;
}

/* Ensure body doesn't have margins */
body {
    margin: 0 !important;
    padding: 0 !important;
    overflow-x: hidden !important;
}

/* Hide horizontal scrollbar on html element */
html {
    overflow-x: hidden !important;
}

/* Make sure headers are visible */
h1, h2, h3, h4, h5, h6 {
    margin-top: 1.5rem !important;
    margin-bottom: 1rem !important;
    word-wrap: break-word !important;
}

/* Ensure lists don't overflow */
ul, ol {
    padding-left: 1.5rem !important;
    margin-left: 0 !important;
}

/* Fix any Quarto-specific margins */
.page-rows-contents {
    max-width: 100% !important;
    width: 100% !important;
}

/* Prevent column layouts from breaking */
[class*="column-"] {
    float: none !important;
    width: 100% !important;
    margin: 0 !important;
    position: static !important;
}

/* Ensure Python Tutor iframes are responsive */
iframe {
    max-width: 100% !important;
}

/* Fix any absolute positioned elements */
.sidebar,
.toc-left,
#quarto-sidebar-toc-left {
    position: static !important;
    float: none !important;
    width: auto !important;
}

/* Add a simple TOC at the top of the content */
#quarto-content::before {
    content: "ðŸ“‘ Tip: Use your browser's Find (Ctrl+F or Cmd+F) to search and navigate this content.";
    display: block;
    background-color: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 0.25rem;
    padding: 10px 15px;
    margin-bottom: 20px;
    font-size: 0.9rem;
    color: #495057;
}